datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

generator client {
  provider = "prisma-client-js"
}

model Meeting {
  id            String   @id @default(cuid())
  title         String
  date          DateTime
  duration      Int
  participants  String // Comma-separated list of emails
  description   String?
  organizer     User     @relation(fields: [organizerId], references: [id], onDelete: Cascade)
  organizerId   String
  zoomAccount   ZoomAccount @relation(fields: [zoomAccountId], references: [id], onDelete: Cascade)
  zoomAccountId String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
}

model User {
  id        String    @id @default(cuid())
  name      String
  email     String    @unique
  role      String    @default("member") // "admin" or "member"
  meetings  Meeting[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}

model ZoomAccount {
  id        String    @id @default(cuid())
  email     String    @unique
  meetings  Meeting[]
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
}
